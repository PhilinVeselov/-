# Проектирование архитектуры социальной сети

## Как проект генерирует прибыль
Социальная сеть зарабатывает на:
- **Рекламе**: таргетированная реклама на основе данных пользователей (интересы, возраст, география).
- **Подписках и платных услугах**: например, платные подписки на премиум-контент, возможность продвигать посты, а также расширенные функции для бизнеса.
- **Монетизация контента**: часть доходов от платного контента (например, музыка, видеопотоки) отчисляется пользователю, а остальная часть остается социальной сети.

## Пользователи сервиса
1. **Обычные пользователи**: заходят для общения, размещения постов, фотографий, видео.
2. **Бизнес-аккаунты**: компании, бренды, предприниматели, которые используют платформу для продвижения продуктов и услуг.
3. **Контент-креаторы**: пользователи, зарабатывающие через публикации и стриминг (например, музыканты, блогеры).

## User Stories

1. **Обычный пользователь**: 
   - Как пользователь, я хочу размещать свои посты с текстом и изображениями, чтобы делиться событиями со своими друзьями.
   - Как пользователь, я хочу просматривать контент друзей и любимых страниц, чтобы быть в курсе их новостей.

2. **Бизнес-аккаунт**:
   - Как бизнес-аккаунт, я хочу размещать рекламу для целевой аудитории, чтобы продвигать свои продукты или услуги и повышать узнаваемость бренда.
   - Как бизнес-аккаунт, я хочу создавать аналитику по просмотрам и кликам на рекламу, чтобы оценивать её эффективность.

3. **Контент-креатор**:
   - Как контент-креатор, я хочу выкладывать премиум-контент и получать за него оплату, чтобы монетизировать свои публикации.

## Архитектура и интерфейсы проекта

Проект состоит из следующих основных интерфейсов и сервисов:

1. **Интерфейсы**:
   - **Мобильное приложение**: интерфейс для взаимодействия с сервисом.
   - **Веб-приложение**: аналогичный функционал с адаптацией для больших экранов.

2. **Основные сервисы и составные части**:
   - **Сервис пользователей**: управление данными пользователей (регистрация, аутентификация, профиль).
   - **Сервис публикаций**: хранение и управление постами, изображениями, видео.
   - **Сервис рекламы**: управление рекламными кампаниями, таргетинг.
   - **Сервис аналитики**: сбор данных о просмотрах, действиях пользователей.
   - **Сервис уведомлений**: обработка уведомлений и уведомлений в реальном времени.
   - **Сервис подписок и платежей**: управление подписками и оплатами.

## Подробное описание сервисов

### Сервис пользователей
- **Методы**:
   - `POST /users/register`: регистрация нового пользователя.
   - `POST /users/login`: аутентификация пользователя.
   - `GET /users/{id}`: получение информации профиля.
- **База данных**: `UserDB` (например, PostgreSQL), хранящая данные профилей и историю входов.
- **Взаимодействие**: REST API для всех взаимодействий с другими сервисами.

### Сервис публикаций
- **Методы**:
   - `POST /posts/create`: создание поста.
   - `GET /posts/{user_id}`: получение ленты пользователя.
- **База данных**: `PostDB` для хранения постов, `MediaDB` для мультимедиа.
- **Взаимодействие**: REST API, возможна интеграция с CDN для изображений.

### Сервис рекламы
- **Методы**:
   - `POST /ads/create`: создание рекламы.
   - `GET /ads/targeted`: предоставление таргетированной рекламы.
- **База данных**: `AdDB` для хранения рекламных кампаний.
- **Взаимодействие**: API для связи с аналитикой и профилями.

### Сервис аналитики
- **Методы**:
   - `POST /analytics/event`: запись события.
   - `GET /analytics/report`: получение отчетов.
- **База данных**: `AnalyticsDB` для хранения событий (например, на основе ClickHouse).
- **Взаимодействие**: REST API и WebSocket для получения данных.

### Сервис уведомлений
- **Методы**:
   - `POST /notifications/send`: отправка уведомления.
   - `GET /notifications/{user_id}`: получение всех уведомлений пользователя.
- **База данных**: `NotificationDB`.
- **Взаимодействие**: WebSocket для мгновенных уведомлений.

### Сервис подписок и платежей
- **Методы**:
   - `POST /payments/subscribe`: оформление подписки.
   - `GET /payments/status`: проверка статуса подписки.
- **База данных**: `PaymentDB`.
- **Взаимодействие**: API для интеграции с внешними платежными системами.

## Протоколы межсервисного взаимодействия

- **REST API**: для всех основных сервисов.
- **WebSocket**: для уведомлений в реальном времени.
- **Очереди сообщений** (например, RabbitMQ): для обмена событиями между сервисами аналитики и рекламы.
